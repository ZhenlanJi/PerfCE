---
layout: page
title: Causal Estimation
parent: Utilities
nav_order: 4
---

# Causal Estimation

To learn the causal relationship between the random variables in the causal graph, 
we use the [dowhy](https://github.com/py-why/dowhy) to identify the causal effect, 
then use the [EconML](https://github.com/microsoft/EconML) to estimate the causal effect.
You can find the code for above pipeline in [estimate.py](https://github.com/ZhenlanJi/PerfCE/blob/main/src/estimate.py).
You can directly execute the script to estimate the causal effect.

**Usage:**

```bash
python estimate.py [-h] [--causal_graph CAUSAL_GRAPH]
                   [--collected_data COLLECTED_DATA]
                   [--workflow_data WORKFLOW_DATA]
                   [--output_dir OUTPUT_DIR]
```

Here is the arguments table for the script:


| Argument       | Description                                                 | Special Remark                                                                                            |
| :------------- | :---------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------- |
| causal_graph   | Path to causal graph file (should be txt file).             | `str`, causal graph file generated by `run_blip.py`.                                                      |
| collected_data | Path to collected data file (should be csv file).           | `str`, the `combined.csv` generated by `collect_data.py`.                                                 |
| workflow_data  | Path to Chaos Mesh workflow data file (should be csv file). | `str`, the Chaos Mesh workflow data generated by `parse_chaos.py`.                                        |
| output_dir     | Path to output directory.                                   | `str`, It should have two subfolder, `deepiv/` and `dml/` to store different kind of models respectively. |